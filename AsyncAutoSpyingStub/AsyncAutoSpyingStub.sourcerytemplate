{"version":3,"instance":"eyJpZCI6IjcyOTk4RkVBLTlBRjgtNEU2OC1CMUNCLTU4NDk0NTlEMUUwRSIsImRlc2NyaXB0aW9uIjoiR2VuZXJhdGVzIGBUZXN0IERvdWJsZXNgIHRoYXQgc2VydmUgYXMgYFNweWAgYW5kIGBTdHViYCBiYXNlZCBvbiBhIGRlcGVuZGVuY3kgcHJvdG9jb2wsIG1vc3RseSBhcHBsaWNhYmxlIGZvciBkYXRhc291cmNlcyBsaWtlIHNlcnZpY2VzIGFuZCByZXBvc2l0b3JpZXMuXG5OT1RFOiBpdCBhc3N1bWVzIHRoYXQgYWxsIG1vZGVscyByZXR1cm5lZCBoYXZlIGEgYGZpeHR1cmVgIG1ldGhvZCBwcmV2aW91c2x5IGRlZmluZWQuXG4qQmFzZWQgb24gYFByb3RvY29sIE1vY2tgIHRlbXBsYXRlIGZyb20gYMWBdWthc3ogS3VjemJvcnNraWAqIiwiY29udGVudCI6InslIG1hY3JvIHN3aWZ0aWZ5TWV0aG9kTmFtZSBuYW1lICV9eyUgdHlwZWQgbmFtZSBhcyBTdHJpbmcgJX17eyBuYW1lIHwgcmVwbGFjZTpcIihcIixcIl9cIiB8IHJlcGxhY2U6XCIpXCIsXCJcIiB8IHJlcGxhY2U6XCI6XCIsXCJfXCIgfCByZXBsYWNlOlwiYFwiLFwiXCIgfCBzbmFrZVRvQ2FtZWxDYXNlIHwgbG93ZXJGaXJzdFdvcmQgfX17JSBlbmRtYWNybyAlfVxuXG57JSBtYWNybyByZXNvbHZlUmV0dXJuVmFsdWVGb3JSZXR1cm5UeXBlIG1ldGhvZCAlfVxuICAgIHslIHNldCBmb3VuZGF0aW9uVHlwZXNXaXRoTm9GaXh0dXJlICV9IFxuICAgIFtcbiAgICAgICAgXCJEYXRlXCIsIFwiRGF0YVwiLCBcIlVSTFwiXG4gICAgXVxuICAgIHslIGVuZHNldCAlfVxuICAgIHslIGlmIG1ldGhvZC5yZXR1cm5UeXBlLmtpbmQgPT0gXCJlbnVtXCIgJX1cbiAgICAgICAgLnt7IG1ldGhvZC5yZXR1cm5UeXBlLmNhc2VzLmZpcnN0Lm5hbWUgfX1cbiAgICB7JSBlbGlmIGZvdW5kYXRpb25UeXBlc1dpdGhOb0ZpeHR1cmV8Y29udGFpbnM6IG1ldGhvZC5yZXR1cm5UeXBlTmFtZSAlfVxuICAgICAgICAuaW5pdCgpXG4gICAgeyUgZWxzZSAlfVxuICAgICAgICB7JSBpZiBtZXRob2QucmV0dXJuVHlwZU5hbWV8Y29udGFpbnM6XCJbXCIgYW5kIG1ldGhvZC5yZXR1cm5UeXBlTmFtZXxjb250YWluczpcIl1cIiAlfVxuICAgICAgICAgICAgLmluaXQoKVxuICAgICAgICB7JSBlbHNlICV9XG4gICAgICAgICAgICAuZml4dHVyZSgpXG4gICAgICAgIHslIGVuZGlmICV9XG4gICAgeyUgZW5kaWYgJX1cbnslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIG1ldGhvZFJlc3VsdERlY2xhcmF0aW9uIG1ldGhvZCAlfVxueyUgdHlwZWQgbWV0aG9kIGFzIE1ldGhvZCAlfVxueyUgc2V0IHJldHVyblZhbHVlICV9IHslIGNhbGwgcmVzb2x2ZVJldHVyblZhbHVlRm9yUmV0dXJuVHlwZSBtZXRob2QgJX0geyUgZW5kc2V0ICV9XG4gICAgcHVibGljIHZhciB7JSBjYWxsIHN3aWZ0aWZ5TWV0aG9kTmFtZSBtZXRob2Quc2VsZWN0b3JOYW1lICV9UmVzdWx0VG9CZVJldHVybmVkOiBSZXN1bHQ8e3sgbWV0aG9kLnJldHVyblR5cGVOYW1lLm5hbWUgfX0sIEVycm9yPiA9IC5zdWNjZXNzKHt7IHJldHVyblZhbHVlfHJlbW92ZU5ld2xpbmVzIH19KVxueyUgZW5kbWFjcm8gJX1cblxueyUgbWFjcm8gbWV0aG9kUmVjZWl2ZWRQYXJhbWV0ZXJzIG1ldGhvZCAlfVxueyUgdHlwZWQgbWV0aG9kIGFzIE1ldGhvZCAlfVxuICAgIHslaWYgbWV0aG9kLnBhcmFtZXRlcnMuY291bnQgPT0gMSAlfVxuICAgICAgICB7JSBjYWxsIHN3aWZ0aWZ5TWV0aG9kTmFtZSBtZXRob2Quc2VsZWN0b3JOYW1lICV9UmVjZWl2ZWR7JSBmb3IgcGFyYW0gaW4gbWV0aG9kLnBhcmFtZXRlcnMgJX17eyBwYXJhbS5uYW1lfHVwcGVyRmlyc3RMZXR0ZXIgfX0gPSB7eyBwYXJhbS5uYW1lIH19eyUgZW5kZm9yICV9XG4gICAgICAgIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1SZWNlaXZlZEludm9jYXRpb25zLmFwcGVuZCh7JSBmb3IgcGFyYW0gaW4gbWV0aG9kLnBhcmFtZXRlcnMgJX17eyBwYXJhbS5uYW1lIH19KXslIGVuZGZvciAlfVxuICAgIHslIGVsc2UgJX1cbiAgICB7JSBpZiBub3QgbWV0aG9kLnBhcmFtZXRlcnMuY291bnQgPT0gMCAlfVxuICAgICAgICB7JSBjYWxsIHN3aWZ0aWZ5TWV0aG9kTmFtZSBtZXRob2Quc2VsZWN0b3JOYW1lICV9UmVjZWl2ZWRBcmd1bWVudHMgPSAoeyUgZm9yIHBhcmFtIGluIG1ldGhvZC5wYXJhbWV0ZXJzICV9e3sgcGFyYW0ubmFtZSB9fToge3sgcGFyYW0ubmFtZSB9fXslIGlmIG5vdCBmb3Jsb29wLmxhc3QlfSwgeyUgZW5kaWYgJX17JSBlbmRmb3IgJX0pXG4gICAgICAgIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1SZWNlaXZlZEludm9jYXRpb25zLmFwcGVuZCgoeyUgZm9yIHBhcmFtIGluIG1ldGhvZC5wYXJhbWV0ZXJzICV9e3sgcGFyYW0ubmFtZSB9fToge3sgcGFyYW0ubmFtZSB9fXslIGlmIG5vdCBmb3Jsb29wLmxhc3QlfSwgeyUgZW5kaWYgJX17JSBlbmRmb3IgJX0pKVxuICAgIHslIGVuZGlmICV9XG4gICAgeyUgZW5kaWYgJX1cbnslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIG1ldGhvZENsb3N1cmVOYW1lIG1ldGhvZCAlfXslIHR5cGVkIG1ldGhvZCBhcyBNZXRob2QgJX17JSBjYWxsIHN3aWZ0aWZ5TWV0aG9kTmFtZSBtZXRob2Quc2VsZWN0b3JOYW1lICV9Q2xvc3VyZXslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIGNsb3N1cmVSZXR1cm5UeXBlTmFtZSBtZXRob2QgJX17JSB0eXBlZCBtZXRob2QgYXMgTWV0aG9kICV9eyUgaWYgbWV0aG9kLmlzT3B0aW9uYWxSZXR1cm5UeXBlICV9e3sgbWV0aG9kLnVud3JhcHBlZFJldHVyblR5cGVOYW1lIH19P3slIGVsc2UgJX17eyBtZXRob2QucmV0dXJuVHlwZU5hbWUgfX17JSBlbmRpZiAlfXslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIG1ldGhvZENsb3N1cmVEZWNsYXJhdGlvbiBtZXRob2QgJX1cbnslIHR5cGVkIG1ldGhvZCBhcyBNZXRob2QgJX1cbnslIGlmIG1ldGhvZC5pc0luaXRpYWxpemVyICV9XG4gICAgcHVibGljIHZhciB7JSBjYWxsIG1ldGhvZENsb3N1cmVOYW1lIG1ldGhvZCAlfTogKCh7JSBmb3IgcGFyYW0gaW4gbWV0aG9kLnBhcmFtZXRlcnMgJX17eyBwYXJhbS50eXBlTmFtZSB9fXslIGlmIG5vdCBmb3Jsb29wLmxhc3QgJX0sIHslIGVuZGlmICV9eyUgZW5kZm9yICV9KSB7JSBpZiBtZXRob2QudGhyb3dzICV9dGhyb3dzIHslIGVuZGlmICV9LT4geyUgaWYgbWV0aG9kLmlzSW5pdGlhbGl6ZXIgJX1Wb2lkeyUgZWxzZSAlfXslIGNhbGwgY2xvc3VyZVJldHVyblR5cGVOYW1lIG1ldGhvZCAlfXslIGVuZGlmICV9KT9cbnslIGVuZGlmICV9XG57JSBlbmRtYWNybyAlfVxuXG57JSBtYWNybyBtZXRob2RDbG9zdXJlQ2FsbFBhcmFtZXRlcnMgbWV0aG9kICV9eyUgdHlwZWQgbWV0aG9kIGFzIE1ldGhvZCAlfXslIGZvciBwYXJhbSBpbiBtZXRob2QucGFyYW1ldGVycyAlfXt7IHBhcmFtLm5hbWUgfX17JSBpZiBub3QgZm9ybG9vcC5sYXN0ICV9LCB7JSBlbmRpZiAlfXslIGVuZGZvciAlfXslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIG1vY2tNZXRob2QgbWV0aG9kICV9XG4gICAgeyUgdHlwZWQgbWV0aG9kIGFzIE1ldGhvZCAlfVxuICAgIHslIG5ld2xpbmUgJX0gICBcL1wvIE1BUks6IC0ge3sgbWV0aG9kLnNob3J0TmFtZSB9fVxuXG4gICAgeyUgY2FsbCBtZXRob2RSZXN1bHREZWNsYXJhdGlvbiBtZXRob2QgJX1cbiAgICB7JSBpZiBub3QgbWV0aG9kLmlzSW5pdGlhbGl6ZXIgJX1cbiAgICBwdWJsaWMgdmFyIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1DYWxsc0NvdW50ID0gMFxuICAgIHB1YmxpYyB2YXIgeyUgY2FsbCBzd2lmdGlmeU1ldGhvZE5hbWUgbWV0aG9kLnNlbGVjdG9yTmFtZSAlfUNhbGxlZDogQm9vbCB7XG4gICAgICAgIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1DYWxsc0NvdW50ID4gMFxuICAgIH1cbiAgICB7JSBlbmRpZiAlfVxuICAgIHslIGlmIG1ldGhvZC5wYXJhbWV0ZXJzLmNvdW50ID09IDEgJX1cbiAgICBwdWJsaWMgdmFyIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1SZWNlaXZlZHslIGZvciBwYXJhbSBpbiBtZXRob2QucGFyYW1ldGVycyAlfXt7IHBhcmFtLm5hbWV8dXBwZXJGaXJzdExldHRlciB9fToge3sgJygnIGlmIHBhcmFtLmlzQ2xvc3VyZSB9fXt7IHBhcmFtLnR5cGVOYW1lLnVud3JhcHBlZFR5cGVOYW1lIH19e3sgJyknIGlmIHBhcmFtLmlzQ2xvc3VyZSB9fT97JSBlbmRmb3IgJX1cbiAgICBwdWJsaWMgdmFyIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1SZWNlaXZlZEludm9jYXRpb25zeyUgZm9yIHBhcmFtIGluIG1ldGhvZC5wYXJhbWV0ZXJzICV9OiBbe3sgJygnIGlmIHBhcmFtLmlzQ2xvc3VyZSB9fXt7IHBhcmFtLnR5cGVOYW1lLnVud3JhcHBlZFR5cGVOYW1lIH19e3sgJyknIGlmIHBhcmFtLmlzQ2xvc3VyZSB9fXslaWYgcGFyYW0udHlwZU5hbWUuaXNPcHRpb25hbCV9P3slZW5kaWYlfV17JSBlbmRmb3IgJX0gPSBbXVxuICAgIHslIGVsaWYgbm90IG1ldGhvZC5wYXJhbWV0ZXJzLmNvdW50ID09IDAgJX1cbiAgICBwdWJsaWMgdmFyIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1SZWNlaXZlZEFyZ3VtZW50czogKHslIGZvciBwYXJhbSBpbiBtZXRob2QucGFyYW1ldGVycyAlfXt7IHBhcmFtLm5hbWUgfX06IHt7IHBhcmFtLnVud3JhcHBlZFR5cGVOYW1lIGlmIHBhcmFtLnR5cGVBdHRyaWJ1dGVzLmVzY2FwaW5nIGVsc2UgcGFyYW0udHlwZU5hbWUgfX17eyAnLCAnIGlmIG5vdCBmb3Jsb29wLmxhc3QgfX17JSBlbmRmb3IgJX0pP1xuICAgIHB1YmxpYyB2YXIgeyUgY2FsbCBzd2lmdGlmeU1ldGhvZE5hbWUgbWV0aG9kLnNlbGVjdG9yTmFtZSAlfVJlY2VpdmVkSW52b2NhdGlvbnM6IFsoeyUgZm9yIHBhcmFtIGluIG1ldGhvZC5wYXJhbWV0ZXJzICV9e3sgcGFyYW0ubmFtZSB9fToge3sgcGFyYW0udW53cmFwcGVkVHlwZU5hbWUgaWYgcGFyYW0udHlwZUF0dHJpYnV0ZXMuZXNjYXBpbmcgZWxzZSBwYXJhbS50eXBlTmFtZSB9fXt7ICcsICcgaWYgbm90IGZvcmxvb3AubGFzdCB9fXslIGVuZGZvciAlfSldID0gW11cbiAgICB7JSBlbmRpZiAlfVxuICAgIHslIGNhbGwgbWV0aG9kQ2xvc3VyZURlY2xhcmF0aW9uIG1ldGhvZCAlfVxuXG57JSBpZiBtZXRob2QuaXNJbml0aWFsaXplciAlfVxuICAgIHJlcXVpcmVkIHt7IG1ldGhvZC5uYW1lIH19IHtcbiAgICAgICAgeyUgY2FsbCBtZXRob2RSZWNlaXZlZFBhcmFtZXRlcnMgbWV0aG9kICV9XG4gICAgICAgIHslIGNhbGwgbWV0aG9kQ2xvc3VyZU5hbWUgbWV0aG9kICV9Pyh7JSBjYWxsIG1ldGhvZENsb3N1cmVDYWxsUGFyYW1ldGVycyBtZXRob2QgJX0pXG4gICAgfVxueyUgZWxzZSAlfVxuICAgIHB1YmxpYyBmdW5jIHt7IG1ldGhvZC5uYW1lIH19e3sgJyB0aHJvd3MnIGlmIG1ldGhvZC50aHJvd3MgfX17JSBpZiBub3QgbWV0aG9kLnJldHVyblR5cGVOYW1lLmlzVm9pZCAlfSAtPiB7eyBtZXRob2QucmV0dXJuVHlwZU5hbWUgfX17JSBlbmRpZiAlfSB7XG4gICAgICAgIHslIGNhbGwgc3dpZnRpZnlNZXRob2ROYW1lIG1ldGhvZC5zZWxlY3Rvck5hbWUgJX1DYWxsc0NvdW50ICs9IDFcbiAgICAgICAgeyUgY2FsbCBtZXRob2RSZWNlaXZlZFBhcmFtZXRlcnMgbWV0aG9kICV9XG4gICAgICAgIHslIGlmIG5vdCBtZXRob2QucmV0dXJuVHlwZU5hbWUuaXNWb2lkICV9XG4gICAgICAgIHJldHVybiB0cnkge3sgbWV0aG9kLnNob3J0TmFtZSB9fVJlc3VsdFRvQmVSZXR1cm5lZC5nZXQoKVxuICAgICAgICB7JSBlbmRpZiAlfVxuICAgIH1cbnslIGVuZGlmICV9XG57JSBlbmRtYWNybyAlfVxuXG57JSBtYWNybyBtb2NrZWRWYXJpYWJsZU5hbWUgdmFyaWFibGUgJX17eyB2YXJpYWJsZS5uYW1lIH19eyUgZW5kbWFjcm8gJX1cbnslIG1hY3JvIHVuZGVybHlpbmdNb2NrZWRWYXJpYWJsZU5hbWUgdmFyaWFibGUgJX11bmRlcmx5aW5ne3sgdmFyaWFibGUubmFtZXx1cHBlckZpcnN0TGV0dGVyIH19eyUgZW5kbWFjcm8gJX1cblxueyUgbWFjcm8gbW9ja09wdGlvbmFsVmFyaWFibGUgdmFyaWFibGUgJX1cbnslIHR5cGVkIHZhcmlhYmxlIGFzIFZhcmlhYmxlICV9XG4gICAgcHVibGljIHZhciB7JSBjYWxsIG1vY2tlZFZhcmlhYmxlTmFtZSB2YXJpYWJsZSAlfToge3sgdmFyaWFibGUudHlwZU5hbWUgfX1cbnslIGVuZG1hY3JvICV9XG5cbnslIG1hY3JvIG1vY2tOb25PcHRpb25hbEFycmF5T3JEaWN0aW9uYXJ5VmFyaWFibGUgdmFyaWFibGUgJX1cbnslIHR5cGVkIHZhcmlhYmxlIGFzIFZhcmlhYmxlICV9XG4gICAgcHVibGljIHZhciB7JSBjYWxsIG1vY2tlZFZhcmlhYmxlTmFtZSB2YXJpYWJsZSAlfToge3sgdmFyaWFibGUudHlwZU5hbWUgfX0gPSB7JSBpZiB2YXJpYWJsZS5pc0FycmF5ICV9W117JSBlbGlmIHZhcmlhYmxlLmlzRGljdGlvbmFyeSAlfVs6XXslIGVuZGlmICV9XG57JSBlbmRtYWNybyAlfVxuXG57JSBtYWNybyBtb2NrTm9uT3B0aW9uYWxWYXJpYWJsZSB2YXJpYWJsZSAlfVxuICAgIHslIHR5cGVkIHZhcmlhYmxlIGFzIFZhcmlhYmxlICV9XG4gICAgeyUgbmV3bGluZSAlfSAgIFwvXC8gTUFSSzogLSB7eyB2YXJpYWJsZS5uYW1lIH19XG5cbiAgICBwdWJsaWMgdmFyIHslIGNhbGwgbW9ja2VkVmFyaWFibGVOYW1lIHZhcmlhYmxlICV9OiB7eyB2YXJpYWJsZS50eXBlTmFtZSB9fSB7XG4gICAgICAgIGdldCB7IHslIGNhbGwgdW5kZXJseWluZ01vY2tlZFZhcmlhYmxlTmFtZSB2YXJpYWJsZSAlfSB9XG4gICAgICAgIHNldCh2YWx1ZSkgeyB7JSBjYWxsIHVuZGVybHlpbmdNb2NrZWRWYXJpYWJsZU5hbWUgdmFyaWFibGUgJX0gPSB2YWx1ZSB9XG4gICAgfVxuICAgIHByaXZhdGUgdmFyIHslIGNhbGwgdW5kZXJseWluZ01vY2tlZFZhcmlhYmxlTmFtZSB2YXJpYWJsZSAlfToge3sgdmFyaWFibGUudHlwZU5hbWUgfX0hXG57JSBlbmRtYWNybyAlfVxuXG5cbnslIGZvciB0eXBlIGluIHR5cGVzLnByb3RvY29scyAlfXsjIFVzZSB0eXBlcy5pbXBsZW1lbnRpbmcuQXN5bmNBdXRvU3B5aW5nU3R1YiBpbnN0ZWFkIG9mIHR5cGVzLnByb3RvY29scyBpZiBkZWNpZGVkIHRvIGhhdmUgdGhpcyBwcm90b2NvbCAjfVxuI2lmIERFQlVHXG57JSBuZXdsaW5lICV9XC9cLyBNQVJLOiAtIHt7IHR5cGUubmFtZSB9fVNweWluZ1N0dWJcblxucHVibGljIGZpbmFsIGNsYXNzICB7eyB0eXBlLm5hbWUgfX1TcHlpbmdTdHViOiB7eyB0eXBlLm5hbWUgfX0ge1xueyUgZm9yIHZhcmlhYmxlIGluIHR5cGUuYWxsVmFyaWFibGVzfCFkZWZpbmVkSW5FeHRlbnNpb24gJX1cbiAgICB7JSBpZiB2YXJpYWJsZS5pc09wdGlvbmFsICV9eyUgY2FsbCBtb2NrT3B0aW9uYWxWYXJpYWJsZSB2YXJpYWJsZSAlfXslIGVsaWYgdmFyaWFibGUuaXNBcnJheSBvciB2YXJpYWJsZS5pc0RpY3Rpb25hcnkgJX17JSBjYWxsIG1vY2tOb25PcHRpb25hbEFycmF5T3JEaWN0aW9uYXJ5VmFyaWFibGUgdmFyaWFibGUgJX17JSBlbHNlICV9eyUgY2FsbCBtb2NrTm9uT3B0aW9uYWxWYXJpYWJsZSB2YXJpYWJsZSAlfXslIGVuZGlmICV9XG57JSBlbmRmb3IgJX1cbnslIGZvciBtZXRob2QgaW4gdHlwZS5hbGxNZXRob2RzfCFkZWZpbmVkSW5FeHRlbnNpb24gJX1cbiAgICB7JSBjYWxsIG1vY2tNZXRob2QgbWV0aG9kICV9XG57JSBlbmRmb3IgJX1cbn1cbnslIGVuZGZvciAlfVxuI2VuZGlmIiwidmVyc2lvbiI6MywiZmF2b3JpdGUiOnRydWUsImF1dGhvciI6IkVkdWFyZG8gQm9jYXRvIiwiZ2VuZXJhdGVkQ29kZSI6IiNpZiBERUJVR1xuXG5cL1wvIE1BUks6IC0gU29tZXRoaW5nUmVwb3NpdG9yeUludGVyZmFjZVNweWluZ1N0dWJcblxucHVibGljIGZpbmFsIGNsYXNzICBTb21ldGhpbmdSZXBvc2l0b3J5SW50ZXJmYWNlU3B5aW5nU3R1YjogU29tZXRoaW5nUmVwb3NpdG9yeUludGVyZmFjZSB7XG4gICAgXG4gICBcL1wvIE1BUks6IC0gaW5pdFxuXG4gICAgcHVibGljIHZhciBpbml0SW5wdXRSZXN1bHRUb0JlUmV0dXJuZWQ6IFJlc3VsdDxTb21ldGhpbmdSZXBvc2l0b3J5SW50ZXJmYWNlLCBFcnJvcj4gPSAuc3VjY2VzcyguZml4dHVyZSgpKVxuICAgIHB1YmxpYyB2YXIgaW5pdElucHV0UmVjZWl2ZWRJbnB1dDogU3RyaW5nP1xuICAgIHB1YmxpYyB2YXIgaW5pdElucHV0UmVjZWl2ZWRJbnZvY2F0aW9uczogW1N0cmluZ10gPSBbXVxuICAgIHB1YmxpYyB2YXIgaW5pdElucHV0Q2xvc3VyZTogKChTdHJpbmcpIC0+IFZvaWQpP1xuXG4gICAgcmVxdWlyZWQgaW5pdChpbnB1dDogU3RyaW5nKSB7XG4gICAgICAgIGluaXRJbnB1dFJlY2VpdmVkSW5wdXQgPSBpbnB1dFxuICAgICAgICBpbml0SW5wdXRSZWNlaXZlZEludm9jYXRpb25zLmFwcGVuZChpbnB1dClcbiAgICAgICAgaW5pdElucHV0Q2xvc3VyZT8oaW5wdXQpXG4gICAgfVxuICAgIFxuICAgXC9cLyBNQVJLOiAtIGZldGNoU29tZXRoaW5nV2l0aElEXG5cbiAgICBwdWJsaWMgdmFyIGZldGNoU29tZXRoaW5nV2l0aElEUmVzdWx0VG9CZVJldHVybmVkOiBSZXN1bHQ8U29tZXRoaW5nLCBFcnJvcj4gPSAuc3VjY2VzcyguZml4dHVyZSgpKVxuICAgIHB1YmxpYyB2YXIgZmV0Y2hTb21ldGhpbmdXaXRoSURDYWxsc0NvdW50ID0gMFxuICAgIHB1YmxpYyB2YXIgZmV0Y2hTb21ldGhpbmdXaXRoSURDYWxsZWQ6IEJvb2wge1xuICAgICAgICBmZXRjaFNvbWV0aGluZ1dpdGhJRENhbGxzQ291bnQgPiAwXG4gICAgfVxuICAgIHB1YmxpYyB2YXIgZmV0Y2hTb21ldGhpbmdXaXRoSURSZWNlaXZlZElkOiBTdHJpbmc\/XG4gICAgcHVibGljIHZhciBmZXRjaFNvbWV0aGluZ1dpdGhJRFJlY2VpdmVkSW52b2NhdGlvbnM6IFtTdHJpbmddID0gW11cblxuICAgIHB1YmxpYyBmdW5jIGZldGNoU29tZXRoaW5nV2l0aElEKF8gaWQ6IFN0cmluZykgdGhyb3dzIC0+IFNvbWV0aGluZyB7XG4gICAgICAgIGZldGNoU29tZXRoaW5nV2l0aElEQ2FsbHNDb3VudCArPSAxXG4gICAgICAgIGZldGNoU29tZXRoaW5nV2l0aElEUmVjZWl2ZWRJZCA9IGlkXG4gICAgICAgIGZldGNoU29tZXRoaW5nV2l0aElEUmVjZWl2ZWRJbnZvY2F0aW9ucy5hcHBlbmQoaWQpXG4gICAgICAgIHJldHVybiB0cnkgZmV0Y2hTb21ldGhpbmdXaXRoSURSZXN1bHRUb0JlUmV0dXJuZWQuZ2V0KClcbiAgICB9XG4gICAgXG4gICBcL1wvIE1BUks6IC0gZmV0Y2hBcnJheU9mU29tZXRoaW5nXG5cbiAgICBwdWJsaWMgdmFyIGZldGNoQXJyYXlPZlNvbWV0aGluZ1Jlc3VsdFRvQmVSZXR1cm5lZDogUmVzdWx0PFtTb21ldGhpbmddLCBFcnJvcj4gPSAuc3VjY2VzcyguaW5pdCgpKVxuICAgIHB1YmxpYyB2YXIgZmV0Y2hBcnJheU9mU29tZXRoaW5nQ2FsbHNDb3VudCA9IDBcbiAgICBwdWJsaWMgdmFyIGZldGNoQXJyYXlPZlNvbWV0aGluZ0NhbGxlZDogQm9vbCB7XG4gICAgICAgIGZldGNoQXJyYXlPZlNvbWV0aGluZ0NhbGxzQ291bnQgPiAwXG4gICAgfVxuXG4gICAgcHVibGljIGZ1bmMgZmV0Y2hBcnJheU9mU29tZXRoaW5nKCkgdGhyb3dzIC0+IFtTb21ldGhpbmddIHtcbiAgICAgICAgZmV0Y2hBcnJheU9mU29tZXRoaW5nQ2FsbHNDb3VudCArPSAxXG4gICAgICAgIHJldHVybiB0cnkgZmV0Y2hBcnJheU9mU29tZXRoaW5nUmVzdWx0VG9CZVJldHVybmVkLmdldCgpXG4gICAgfVxuICAgIFxuICAgXC9cLyBNQVJLOiAtIGZldGNoQXJyYXlPZlNvbWVFbnVtXG5cbiAgICBwdWJsaWMgdmFyIGZldGNoQXJyYXlPZlNvbWVFbnVtUmVzdWx0VG9CZVJldHVybmVkOiBSZXN1bHQ8W1NvbWVFbnVtXSwgRXJyb3I+ID0gLnN1Y2Nlc3MoLmluaXQoKSlcbiAgICBwdWJsaWMgdmFyIGZldGNoQXJyYXlPZlNvbWVFbnVtQ2FsbHNDb3VudCA9IDBcbiAgICBwdWJsaWMgdmFyIGZldGNoQXJyYXlPZlNvbWVFbnVtQ2FsbGVkOiBCb29sIHtcbiAgICAgICAgZmV0Y2hBcnJheU9mU29tZUVudW1DYWxsc0NvdW50ID4gMFxuICAgIH1cblxuICAgIHB1YmxpYyBmdW5jIGZldGNoQXJyYXlPZlNvbWVFbnVtKCkgdGhyb3dzIC0+IFtTb21lRW51bV0ge1xuICAgICAgICBmZXRjaEFycmF5T2ZTb21lRW51bUNhbGxzQ291bnQgKz0gMVxuICAgICAgICByZXR1cm4gdHJ5IGZldGNoQXJyYXlPZlNvbWVFbnVtUmVzdWx0VG9CZVJldHVybmVkLmdldCgpXG4gICAgfVxuICAgIFxuICAgXC9cLyBNQVJLOiAtIHBvc3RTb21ldGhpbmdcblxuICAgIHB1YmxpYyB2YXIgcG9zdFNvbWV0aGluZ1N0cmluZ1BhcmFtSW50UGFyYW1Tb21ldGhpbmdQYXJhbVJlc3VsdFRvQmVSZXR1cm5lZDogUmVzdWx0PFZvaWQsIEVycm9yPiA9IC5zdWNjZXNzKC5maXh0dXJlKCkpXG4gICAgcHVibGljIHZhciBwb3N0U29tZXRoaW5nU3RyaW5nUGFyYW1JbnRQYXJhbVNvbWV0aGluZ1BhcmFtQ2FsbHNDb3VudCA9IDBcbiAgICBwdWJsaWMgdmFyIHBvc3RTb21ldGhpbmdTdHJpbmdQYXJhbUludFBhcmFtU29tZXRoaW5nUGFyYW1DYWxsZWQ6IEJvb2wge1xuICAgICAgICBwb3N0U29tZXRoaW5nU3RyaW5nUGFyYW1JbnRQYXJhbVNvbWV0aGluZ1BhcmFtQ2FsbHNDb3VudCA+IDBcbiAgICB9XG4gICAgcHVibGljIHZhciBwb3N0U29tZXRoaW5nU3RyaW5nUGFyYW1JbnRQYXJhbVNvbWV0aGluZ1BhcmFtUmVjZWl2ZWRBcmd1bWVudHM6IChzdHJpbmdQYXJhbTogU3RyaW5nLCBpbnRQYXJhbTogSW50LCBzb21ldGhpbmdQYXJhbTogU29tZXRoaW5nKT9cbiAgICBwdWJsaWMgdmFyIHBvc3RTb21ldGhpbmdTdHJpbmdQYXJhbUludFBhcmFtU29tZXRoaW5nUGFyYW1SZWNlaXZlZEludm9jYXRpb25zOiBbKHN0cmluZ1BhcmFtOiBTdHJpbmcsIGludFBhcmFtOiBJbnQsIHNvbWV0aGluZ1BhcmFtOiBTb21ldGhpbmcpXSA9IFtdXG5cbiAgICBwdWJsaWMgZnVuYyBwb3N0U29tZXRoaW5nKHN0cmluZ1BhcmFtOiBTdHJpbmcsIGludFBhcmFtOiBJbnQsIHNvbWV0aGluZ1BhcmFtOiBTb21ldGhpbmcpIHRocm93cyB7XG4gICAgICAgIHBvc3RTb21ldGhpbmdTdHJpbmdQYXJhbUludFBhcmFtU29tZXRoaW5nUGFyYW1DYWxsc0NvdW50ICs9IDFcbiAgICAgICAgcG9zdFNvbWV0aGluZ1N0cmluZ1BhcmFtSW50UGFyYW1Tb21ldGhpbmdQYXJhbVJlY2VpdmVkQXJndW1lbnRzID0gKHN0cmluZ1BhcmFtOiBzdHJpbmdQYXJhbSwgaW50UGFyYW06IGludFBhcmFtLCBzb21ldGhpbmdQYXJhbTogc29tZXRoaW5nUGFyYW0pXG4gICAgICAgIHBvc3RTb21ldGhpbmdTdHJpbmdQYXJhbUludFBhcmFtU29tZXRoaW5nUGFyYW1SZWNlaXZlZEludm9jYXRpb25zLmFwcGVuZCgoc3RyaW5nUGFyYW06IHN0cmluZ1BhcmFtLCBpbnRQYXJhbTogaW50UGFyYW0sIHNvbWV0aGluZ1BhcmFtOiBzb21ldGhpbmdQYXJhbSkpXG4gICAgfVxufVxuI2VuZGlmIiwidXJsIjoiIiwicmVnZW5lcmF0aW9uQ291bnRlciI6MjQsImZpbGVVUkwiOiJmaWxlOlwvXC9cL1VzZXJzXC9ib2NhdGVkdVwvRGVza3RvcFwvQXN5bmNBdXRvU3B5aW5nU3R1Yi5zb3VyY2VyeXRlbXBsYXRlIiwicnVuQ29uZmlndXJhdGlvbiI6InNlbGVjdGlvbiIsInNhbXBsZUNvZGUiOiJlbnVtIFNvbWVFbnVtIHtcbiAgICBjYXNlIGZpcnN0Q2FzZVxuICAgIGNhc2Ugc2Vjb25kQ2FzZVxufVxuXG5wcm90b2NvbCBTb21ldGhpbmdSZXBvc2l0b3J5SW50ZXJmYWNlIHtcbiAgICBpbml0KGlucHV0OiBTdHJpbmcpXG4gICAgZnVuYyBmZXRjaFNvbWV0aGluZ1dpdGhJRChfIGlkOiBTdHJpbmcpIGFzeW5jIHRocm93cyAtPiBTb21ldGhpbmdcbiAgICBmdW5jIGZldGNoQXJyYXlPZlNvbWV0aGluZygpIGFzeW5jIHRocm93cyAtPiBbU29tZXRoaW5nXVxuICAgIGZ1bmMgZmV0Y2hBcnJheU9mU29tZUVudW0oKSBhc3luYyB0aHJvd3MgLT4gW1NvbWVFbnVtXVxuICAgIGZ1bmMgcG9zdFNvbWV0aGluZyhzdHJpbmdQYXJhbTogU3RyaW5nLCBpbnRQYXJhbTogSW50LCBzb21ldGhpbmdQYXJhbTogU29tZXRoaW5nKSBhc3luYyB0aHJvd3Ncbn0iLCJpc0xvY2tlZCI6ZmFsc2UsImtpbmQiOiJzdGVuY2lsIiwidHJpbVdoaXRlc3BhY2VzIjp0cnVlLCJuYW1lIjoiQXN5bmNBdXRvU3B5aW5nU3R1YiIsImluc2VydGlvbk1vZGUiOiJlbmRPZkZpbGUifQ=="}